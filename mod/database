// file      : mod/database -*- C++ -*-
// copyright : Copyright (c) 2014-2017 Code Synthesis Ltd
// license   : MIT; see accompanying LICENSE file

#ifndef MOD_DATABASE
#define MOD_DATABASE

#include <odb/forward.hxx> // database

#include <brep/types>
#include <brep/utility>

#include <mod/options>

namespace brep
{
  // Returns pointer to the shared database instance, creating one on the
  // first call. On subsequent calls ensures passed host and port equals
  // to ones of the existing database instance throwing runtime_error
  // otherwise. Is not thread-safe.
  //
  shared_ptr<odb::core::database>
  shared_database (const options::db&);
}

#endif // MOD_DATABASE
